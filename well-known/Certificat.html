<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Certifications - AEC</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700;800;900&family=Open+Sans:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        /* Variables et reset */
        :root {
            --green: #228B22;
            --orange: #FF8C00;
            --light-gray: #F5F5F5;
            --dark-gray: #333333;
            --white: #FFFFFF;
            --transition: all 0.3s ease;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        /* Styles pour le logo personnalisé */
        .logo-custom {
            width: 250px;
            height: 60px;
            display: flex;
            align-items: center;
        }

        .logo-custom img {
            max-height: 100%;
            max-width: 100%;
            object-fit: contain;
        }

        /* Ajustement pour l'espace logo sur mobile */
        @media (max-width: 992px) {
            .logo-custom {
                width: 200px;
            }
        }

        @media (max-width: 768px) {
            .logo-custom {
                width: 180px;
                height: 50px;
            }
        }
        
        body {
            font-family: 'Open Sans', sans-serif;
            color: var(--dark-gray);
            background-color: var(--white);
            overflow-x: hidden;
            line-height: 1.6;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            padding-top: 80px; /* Pour compenser le header fixe */
        }
        
        h1, h2, h3, h4 {
            font-family: 'Montserrat', sans-serif;
            font-weight: 800;
        }
        
        /* Styles généraux */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        .btn-primary {
            background-color: var(--orange);
            color: var(--white);
            border: none;
            padding: 15px 35px;
            border-radius: 50px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1.5px;
            cursor: pointer;
            transition: var(--transition);
            position: relative;
            overflow: hidden;
            z-index: 1;
        }
        
        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
        }
        
        /* Header Styles */
        #main-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 5%;
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
            background: rgba(255, 255, 255, 0.95);
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
            transition: var(--transition);
        }
        
        #main-header.scrolled {
            padding: 10px 5%;
            background: rgba(255, 255, 255, 0.98);
            box-shadow: 0 5px 25px rgba(0, 0, 0, 0.15);
        }
        
        .logo-container {
            display: flex;
            align-items: center;
        }
        
        #main-nav {
            display: flex;
            align-items: center;
        }
        
        #main-nav ul {
            display: flex;
            list-style: none;
        }
        
        #main-nav ul li {
            margin: 0 10px;
            position: relative;
        }
        
        #main-nav ul li a {
            text-decoration: none;
            color: var(--dark-gray);
            font-weight: 700;
            position: relative;
            padding: 8px 0;
            transition: var(--transition);
            text-transform: uppercase;
            letter-spacing: 1px;
            font-size: 0.85rem;
        }
        
        #main-nav ul li a:after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 3px;
            background: var(--orange);
            transition: var(--transition);
            border-radius: 3px;
        }
        
        #main-nav ul li a:hover:after,
        #main-nav ul li.active a:after {
            width: 100%;
        }
        
        #main-nav ul li a:hover {
            color: var(--orange);
        }
        
        .mobile-menu-btn {
            display: none;
            font-size: 1.8rem;
            cursor: pointer;
            color: var(--green);
            transition: var(--transition);
        }
        
        .mobile-menu-btn:hover {
            color: var(--orange);
        }
        
        /* Mobile menu */
        #mobile-nav {
            position: fixed;
            top: 80px;
            left: 0;
            width: 100%;
            height: 0;
            background: var(--white);
            overflow: hidden;
            transition: var(--transition);
            z-index: 999;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        }
        
        #mobile-nav.active {
            height: calc(100vh - 80px);
            overflow-y: auto;
        }
        
        #mobile-nav ul {
            list-style: none;
            padding: 30px 5%;
        }
        
        #mobile-nav ul li {
            margin: 20px 0;
        }
        
        #mobile-nav ul li a {
            text-decoration: none;
            color: var(--dark-gray);
            font-weight: 700;
            font-size: 1.2rem;
            text-transform: uppercase;
            display: block;
            padding: 10px 0;
            transition: var(--transition);
            border-bottom: 1px solid var(--light-gray);
        }
        
        #mobile-nav ul li a:hover {
            color: var(--orange);
            padding-left: 15px;
        }
        
        /* Hero Section */
        .page-hero {
            padding: 140px 5% 60px;
            text-align: center;
            background: linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)), 
                        url('https://images.unsplash.com/photo-1522202176988-66273c2fd55f?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1740&q=80');
            background-size: cover;
            background-position: center;
            color: var(--white);
            position: relative;
            overflow: hidden;
        }
        
        .page-hero h1 {
            font-size: 3rem;
            margin-bottom: 20px;
            text-shadow: 2px 2px 10px rgba(0, 0, 0, 0.5);
        }
        
        .page-hero p {
            font-size: 1.3rem;
            max-width: 800px;
            margin: 0 auto;
        }
        
        /* Certifications Section */
        #certifications {
            padding: 80px 5%;
            position: relative;
        }
        
        .section-header {
            text-align: center;
            margin-bottom: 60px;
            position: relative;
        }
        
        .section-header h2 {
            font-size: 2.5rem;
            color: var(--green);
            margin-bottom: 15px;
            position: relative;
            display: inline-block;
        }
        
        .section-header h2:after {
            content: '';
            position: absolute;
            bottom: -15px;
            left: 50%;
            transform: translateX(-50%);
            width: 100px;
            height: 5px;
            background: var(--orange);
            border-radius: 3px;
        }
        
        .admin-access-container {
            position: absolute;
            top: 0;
            right: 0;
        }
        
        .admin-toggle-hidden {
            display: none;
        }
        
        .certifications-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 30px;
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .certification-item {
            background: var(--white);
            border-radius: 15px;
            padding: 0;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
            transition: var(--transition);
            position: relative;
            overflow: hidden;
            cursor: pointer;
            display: flex;
            flex-direction: column;
            height: 100%;
        }
        
        .certification-item:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
        }
        
        .certification-image-container {
            position: relative;
            width: 100%;
            height: 200px;
            overflow: hidden;
        }
        
        .certification-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s ease;
        }
        
        .certification-item:hover .certification-image {
            transform: scale(1.05);
        }
        
        .certification-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .certification-item:hover .certification-overlay {
            opacity: 1;
        }
        
        .certification-overlay i {
            color: white;
            font-size: 2rem;
        }
        
        .image-placeholder {
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, var(--green) 0%, var(--orange) 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 3rem;
        }
        
        .certification-content {
            padding: 25px;
            flex-grow: 1;
            display: flex;
            flex-direction: column;
        }
        
        .certification-item h3 {
            font-size: 1.4rem;
            color: var(--green);
            margin-bottom: 15px;
            line-height: 1.3;
        }
        
        .certification-description {
            color: var(--dark-gray);
            font-size: 1rem;
            line-height: 1.6;
            margin-bottom: 20px;
            flex-grow: 1;
        }
        
        .cert-stats {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 15px;
        }
        
        .cert-stat {
            background: var(--light-gray);
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 600;
            color: var(--green);
        }
        
        .cert-stat-more {
            background: var(--orange);
            color: white;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 600;
        }
        
        .cert-dates {
            margin-top: 15px;
            font-size: 0.9rem;
            background: var(--light-gray);
            padding: 15px;
            border-radius: 10px;
        }
        
        .cert-date-item {
            margin-bottom: 8px;
            display: flex;
            align-items: center;
        }
        
        .cert-date-item:last-child {
            margin-bottom: 0;
        }
        
        .cert-date-item i {
            margin-right: 10px;
            color: var(--orange);
            width: 20px;
        }
        
        .admin-actions {
            margin-top: 15px;
            display: flex;
            gap: 10px;
            justify-content: center;
        }
        
        .admin-btn {
            padding: 8px 15px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .btn-edit {
            background-color: var(--orange);
            color: white;
        }
        
        .btn-edit:hover {
            background-color: #e67e00;
        }
        
        .btn-delete {
            background-color: #ff4d4d;
            color: white;
        }
        
        .btn-delete:hover {
            background-color: #ff3333;
        }
        
        /* Admin Panel */
        .admin-panel {
            display: none;
            background: var(--white);
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
            margin-bottom: 40px;
        }
        
        .admin-form {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-group.full-width {
            grid-column: 1 / -1;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--dark-gray);
        }
        
        .form-control {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid var(--light-gray);
            border-radius: 10px;
            font-size: 1rem;
            transition: var(--transition);
            background: var(--light-gray);
        }
        
        .form-control:focus {
            outline: none;
            border-color: var(--green);
            background: var(--white);
            box-shadow: 0 0 0 3px rgba(34, 139, 34, 0.1);
        }
        
        textarea.form-control {
            min-height: 100px;
            resize: vertical;
        }
        
        .form-actions {
            grid-column: 1 / -1;
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-top: 20px;
        }
        
        .btn-secondary {
            background-color: var(--light-gray);
            color: var(--dark-gray);
            border: none;
            padding: 12px 25px;
            border-radius: 50px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
        }
        
        .btn-secondary:hover {
            background-color: #d0d0d0;
        }
        
        .btn-danger {
            background-color: #ff4d4d;
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 50px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
        }
        
        .btn-danger:hover {
            background-color: #ff3333;
        }
        
        .image-preview {
            width: 100%;
            height: 200px;
            border: 2px dashed var(--light-gray);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 15px;
            overflow: hidden;
        }
        
        .image-preview img {
            max-width: 100%;
            max-height: 100%;
            object-fit: cover;
        }
        
        .image-preview-placeholder {
            color: #aaa;
            text-align: center;
        }
        
        /* Modal */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
        }
        
        .modal-content {
            background-color: var(--white);
            margin: 5% auto;
            padding: 30px;
            border-radius: 15px;
            width: 90%;
            max-width: 1000px;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
        }
        
        .close-modal {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
            position: absolute;
            right: 20px;
            top: 15px;
            cursor: pointer;
        }
        
        .close-modal:hover {
            color: var(--dark-gray);
        }
        
        .modal-actions {
            margin-top: 30px;
            text-align: center;
        }
        
        .modal-details-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-top: 20px;
        }
        
        .modal-section {
            margin-bottom: 25px;
        }
        
        .modal-section h3 {
            color: var(--green);
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--orange);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .modal-detail-item {
            margin-bottom: 15px;
        }
        
        .modal-detail-label {
            font-weight: 600;
            color: var(--dark-gray);
            margin-bottom: 5px;
        }
        
        .modal-detail-value {
            color: #555;
        }
        
        .detail-list {
            list-style-type: none;
        }
        
        .detail-list li {
            margin-bottom: 8px;
            padding-left: 20px;
            position: relative;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .detail-list li:before {
            content: "•";
            color: var(--orange);
            font-weight: bold;
            position: absolute;
            left: 0;
        }
        
        .modal-image-section {
            margin-bottom: 25px;
        }
        
        .modal-image {
            width: 100%;
            max-height: 300px;
            object-fit: cover;
            border-radius: 10px;
        }
        
        /* Other Certifications */
        #other-certifications {
            padding: 80px 5%;
            background: linear-gradient(135deg, var(--green) 0%, #1a6b1a 100%);
            color: var(--white);
        }
        
        .other-certs-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            max-width: 1000px;
            margin: 0 auto;
        }
        
        .other-cert-card {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 30px;
            text-align: center;
            backdrop-filter: blur(5px);
            transition: var(--transition);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .other-cert-card:hover {
            transform: translateY(-10px);
            background: rgba(255, 255, 255, 0.15);
        }
        
        .other-cert-icon {
            font-size: 2.5rem;
            margin-bottom: 20px;
            color: var(--orange);
        }
        
        .other-cert-card h3 {
            font-size: 1.5rem;
            margin-bottom: 15px;
        }
        
        /* CTA Section */
        #cta {
            padding: 80px 5%;
            text-align: center;
        }
        
        #cta h2 {
            font-size: 2.2rem;
            color: var(--green);
            margin-bottom: 30px;
            text-align: center;
        }
        
        #cta p {
            font-size: 1.1rem;
            max-width: 800px;
            margin: 0 auto 40px;
            line-height: 1.7;
            text-align: center;
        }
        
        /* Footer */
        #main-footer {
            background: linear-gradient(135deg, var(--dark-gray), #222);
            color: var(--white);
            padding: 70px 5% 30px;
            position: relative;
        }
        
        .footer-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 40px;
            max-width: 1200px;
            margin: 0 auto 50px;
        }
        
        .footer-logo {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .footer-about p {
            margin-bottom: 25px;
            opacity: 0.9;
            font-size: 1rem;
            line-height: 1.7;
        }
        
        .social-links {
            display: flex;
            gap: 15px;
        }
        
        .social-links a {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 45px;
            height: 45px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.1);
            color: var(--white);
            text-decoration: none;
            transition: var(--transition);
            font-size: 1.1rem;
        }
        
        .social-links a:hover {
            background: var(--orange);
            transform: translateY(-5px);
        }
        
        .footer-links h4,
        .footer-contact h4,
        .footer-newsletter h4 {
            margin-bottom: 25px;
            position: relative;
            padding-bottom: 12px;
            font-size: 1.3rem;
        }
        
        .footer-links h4:after,
        .footer-contact h4:after,
        .footer-newsletter h4:after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 50px;
            height: 4px;
            background: var(--orange);
        }
        
        .footer-links ul {
            list-style: none;
        }
        
        .footer-links ul li {
            margin-bottom: 12px;
        }
        
        .footer-links ul li a {
            color: rgba(255, 255, 255, 0.9);
            text-decoration: none;
            transition: var(--transition);
            display: inline-block;
            font-size: 1rem;
            width: 100%;
        }
        
        .footer-links ul li a:hover {
            color: var(--orange);
            padding-left: 5px;
        }
        
        .footer-contact ul {
            list-style: none;
        }
        
        .footer-contact ul li {
            margin-bottom: 15px;
            display: flex;
            align-items: flex-start;
        }
        
        .footer-contact ul li i {
            color: var(--orange);
            margin-right: 15px;
            min-width: 20px;
            margin-top: 5px;
            font-size: 1.1rem;
        }
        
        .footer-newsletter p {
            margin-bottom: 20px;
            opacity: 0.9;
            font-size: 1rem;
        }
        
        .footer-newsletter form {
            display: flex;
        }
        
        .footer-newsletter input {
            flex: 1;
            padding: 12px 15px;
            border: none;
            border-radius: 50px 0 0 50px;
            outline: none;
            font-size: 1rem;
        }
        
        .footer-newsletter button {
            background: var(--orange);
            color: var(--white);
            border: none;
            padding: 0 20px;
            border-radius: 0 50px 50px 0;
            cursor: pointer;
            transition: var(--transition);
            font-size: 1.1rem;
        }
        
        .footer-newsletter button:hover {
            background: var(--green);
        }
        
        .footer-bottom {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1200px;
            margin: 0 auto;
            padding-top: 25px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            font-size: 0.9rem;
            opacity: 0.8;
        }
        
        .footer-extra-links {
            display: flex;
            gap: 20px;
        }
        
        .footer-extra-links a {
            color: var(--white);
            text-decoration: none;
            transition: var(--transition);
        }
        
        .footer-extra-links a:hover {
            color: var(--orange);
        }
        
        /* Back to top */
        #back-to-top {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: var(--orange);
            color: var(--white);
            border: none;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            opacity: 0;
            transform: translateY(30px);
            transition: var(--transition);
            z-index: 999;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }
        
        #back-to-top.show {
            opacity: 1;
            transform: translateY(0);
        }
        
        #back-to-top:hover {
            background: var(--green);
            transform: translateY(-5px);
        }
        
        /* Responsive */
        @media (max-width: 992px) {
            .admin-form {
                grid-template-columns: 1fr;
            }
            
            .modal-details-grid {
                grid-template-columns: 1fr;
            }
            
            #main-nav ul {
                display: none;
            }
            
            .mobile-menu-btn {
                display: block;
            }
            
            .admin-access-container {
                position: relative;
                margin-top: 20px;
                text-align: center;
            }
        }
        
        @media (max-width: 768px) {
            .page-hero {
                padding: 120px 5% 50px;
            }
            
            .page-hero h1 {
                font-size: 2.2rem;
            }
            
            .page-hero p {
                font-size: 1.1rem;
            }
            
            .section-header h2 {
                font-size: 2rem;
            }
            
            .certification-item {
                padding: 20px;
            }
            
            .certification-item h3 {
                font-size: 1.3rem;
            }
            
            .footer-bottom {
                flex-direction: column;
                gap: 15px;
                text-align: center;
            }
            
            .footer-extra-links {
                justify-content: center;
            }
            
            .footer-newsletter form {
                flex-direction: column;
            }
            
            .footer-newsletter input {
                border-radius: 50px;
                margin-bottom: 10px;
            }
            
            .footer-newsletter button {
                border-radius: 50px;
                padding: 12px;
            }
        }
        
        @media (max-width: 480px) {
            .page-hero h1 {
                font-size: 1.8rem;
            }
            
            .page-hero p {
                font-size: 1rem;
            }
            
            .section-header h2 {
                font-size: 1.6rem;
            }
            
            .certification-item h3 {
                font-size: 1.2rem;
            }
            
            #cta h2 {
                font-size: 1.8rem;
            }
            
            .admin-actions {
                flex-direction: column;
            }
            
            .form-actions {
                flex-direction: column;
            }
            
            .certifications-grid {
                grid-template-columns: 1fr;
            }
        }

        .no-data {
            text-align: center;
            color: var(--dark-gray);
            font-size: 1.2rem;
            padding: 40px;
            grid-column: 1 / -1;
        }
        
        .error-message {
            text-align: center;
            color: #ff4d4d;
            padding: 20px;
            background: #fff0f0;
            border-radius: 10px;
            margin: 20px 0;
        }
        
        .error-message i {
            font-size: 2rem;
            margin-bottom: 15px;
            display: block;
        }
        
        /* Animation pour l'apparition des éléments */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .animate-fade-in-up {
            animation: fadeInUp 0.6s ease forwards;
        }
        
        /* Badge pour nouvelles certifications */
        .new-badge {
            position: absolute;
            top: 15px;
            right: 15px;
            background: var(--orange);
            color: white;
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: bold;
            z-index: 10;
        }
        
        /* Indicateur de chargement */
        .loading-spinner {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255,255,255,.3);
            border-radius: 50%;
            border-top-color: #fff;
            animation: spin 1s ease-in-out infinite;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <!-- Header avec navigation -->
    <header id="main-header">
        <div class="logo-container">
            <div class="logo-custom">
                <img src="logo.png" alt="Logo AEC - Agricultural Expertise Center">
            </div>
        </div>
        
        <nav id="main-nav">
            <ul>
                <li><a href="index.html">ACCUEIL</a></li>
                <li><a href="Axes.html">AXES</a></li>
                <li><a href="ODD.html">ODDs</a></li>
                <li class="active"><a href="Certificat.html">CERTIFICATIONS</a></li>
                <li><a href="Projets.html">PROJETS</a></li>
                <li><a href="Contact.html">CONTACT</a></li>
                <li><a href="Partenaires.html">PARTENAIRES</a></li>
                <li><a href="Galerie.html">GALERIE</a></li>
                <li><a href="Blog.html">BLOG</a></li>
            </ul>
        </nav>
        
        <div class="mobile-menu-btn">
            <i class="fas fa-bars"></i>
        </div>
    </header>

    <!-- Mobile navigation -->
    <nav id="mobile-nav">
        <ul>
            <li><a href="index.html">ACCUEIL</a></li>
            <li><a href="Axes.html">AXES</a></li>
            <li><a href="ODD.html">ODDs</a></li>
            <li class="active"><a href="Certificat.html">CERTIFICATIONS</a></li>
            <li><a href="Projets.html">PROJETS</a></li>
            <li><a href="Contact.html">CONTACT</a></li>
            <li><a href="Partenaires.html">PARTENAIRES</a></li>
            <li><a href="Galerie.html">GALERIE</a></li>
            <li><a href="Blog.html">BLOG</a></li>
        </ul>
    </nav>

    <!-- Hero Section -->
    <section class="page-hero">
        <div class="container">
            <h1>Certifications & Formations</h1>
            <p>Découvrez nos programmes de certification pour professionnels du secteur agricole en Afrique</p>
        </div>
    </section>

    <!-- Certifications Section -->
    <section id="certifications">
        <div class="container">
            <div class="section-header">
                <h2>Nos Programmes de Certification</h2>
                <div class="admin-access-container">
                    <button id="admin-toggle" class="btn-primary admin-toggle-hidden">Mode Admin</button>
                </div>
            </div>
            
            <!-- Interface Admin (cachée par défaut) -->
            <div id="admin-panel" class="admin-panel">
                <h3>Gestion des Certifications</h3>
                <form id="certification-form" class="admin-form" enctype="multipart/form-data">
                    <input type="hidden" id="certification-id" name="id">
                    
                    <div class="form-group full-width">
                        <label for="cert-image">Image de la certification</label>
                        <div class="image-preview" id="image-preview">
                            <div class="image-preview-placeholder">
                                <i class="fas fa-image" style="font-size: 3rem; margin-bottom: 10px;"></i>
                                <p>Aperçu de l'image</p>
                            </div>
                        </div>
                        <input type="file" id="cert-image" name="image" accept="image/*" class="form-control">
                    </div>
                    
                    <div class="form-group">
                        <label for="cert-title">Titre de la certification</label>
                        <input type="text" id="cert-title" name="title" class="form-control" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="cert-description">Description</label>
                        <textarea id="cert-description" name="description" class="form-control" required></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label for="cert-stats">Statistiques (séparées par des points-virgules)</label>
                        <textarea id="cert-stats" name="stats" class="form-control" placeholder="416 candidatures reçues;31 boursiers complets;40 demi-boursiers"></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label for="cert-modules">Modules (séparés par des points-virgules)</label>
                        <textarea id="cert-modules" name="modules" class="form-control" placeholder="Module 1: Introduction;Module 2: Techniques avancées"></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label for="cert-inscription">Modalités d'inscription</label>
                        <textarea id="cert-inscription" name="inscription" class="form-control" placeholder="Processus d'inscription détaillé..."></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label for="cert-date-limite">Date limite d'inscription</label>
                        <input type="date" id="cert-date-limite" name="date_limite" class="form-control">
                    </div>
                    
                    <div class="form-group">
                        <label for="cert-date-debut">Date de début de formation</label>
                        <input type="date" id="cert-date-debut" name="date_debut" class="form-control">
                    </div>
                    
                    <div class="form-group">
                        <label for="cert-public">Public cible</label>
                        <textarea id="cert-public" name="public_cible" class="form-control" placeholder="Professionnels du secteur agricole, étudiants..."></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label for="cert-methodologie">Méthodologie</label>
                        <textarea id="cert-methodologie" name="methodologie" class="form-control" placeholder="Formation en ligne, présentiel, hybrid..."></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label for="cert-cout">Coût de la formation</label>
                        <input type="text" id="cert-cout" name="cout" class="form-control" placeholder="500 000 FCFA ou Gratuit">
                    </div>
                    
                    <div class="form-group">
                        <label for="cert-duree">Durée de la formation</label>
                        <input type="text" id="cert-duree" name="duree" class="form-control" placeholder="3 mois, 120 heures">
                    </div>
                    
                    <div class="form-group">
                        <label for="cert-prerequis">Prérequis</label>
                        <textarea id="cert-prerequis" name="prerequis" class="form-control" placeholder="Diplôme de niveau Bac+2, expérience professionnelle..."></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label for="cert-debouches">Débouchés</label>
                        <textarea id="cert-debouches" name="debouches" class="form-control" placeholder="Métiers et opportunités après la certification..."></textarea>
                    </div>
                    
                    <div class="form-actions">
                        <button type="submit" class="btn-primary">Enregistrer</button>
                        <button type="button" id="cancel-edit" class="btn-secondary">Annuler</button>
                        <button type="button" id="clear-form" class="btn-danger">Nouveau</button>
                    </div>
                </form>
            </div>
            
            <!-- Conteneur des certifications -->
            <div class="certifications-grid" id="certifications-container">
                <!-- Les certifications seront chargées ici dynamiquement -->
            </div>
        </div>
    </section>

    <!-- Modal pour afficher les détails d'une certification -->
    <div id="certification-modal" class="modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <div id="modal-content">
                <!-- Le contenu du modal sera chargé ici dynamiquement -->
            </div>
            <div class="modal-actions">
                <button id="apply-button" class="btn-primary">Postuler à cette certification</button>
            </div>
        </div>
    </div>

    <!-- Other Certifications -->
    <section id="other-certifications">
        <div class="container">
            <div class="section-header">
                <h2 style="color: white;">Autres Programmes de Formation</h2>
            </div>
            
            <div class="other-certs-grid">
                <div class="other-cert-card">
                    <div class="other-cert-icon">
                        <i class="fas fa-seedling"></i>
                    </div>
                    <h3>Agriculture Durable</h3>
                    <p>Formation aux pratiques agricoles respectueuses de l'environnement et économiquement viables.</p>
                </div>
                
                <div class="other-cert-card">
                    <div class="other-cert-icon">
                        <i class="fas fa-tractor"></i>
                    </div>
                    <h3>Technologies Agricoles</h3>
                    <p>Maîtrise des nouvelles technologies et innovations dans le secteur agricole africain.</p>
                </div>
                
                <div class="other-cert-card">
                    <div class="other-cert-icon">
                        <i class="fas fa-chart-line"></i>
                    </div>
                    <h3>Gestion d'Entreprise Agricole</h3>
                    <p>Formation à la gestion économique et financière des exploitations agricoles.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- CTA Section -->
    <section id="cta">
        <div class="container">
            <h2>Intéressé par nos certifications?</h2>
            <p>Rejoignez nos programmes de formation et devenez un expert reconnu dans le domaine des chaînes de valeurs agricoles durables. Nos certifications sont conçues pour les professionnels qui souhaitent avoir un impact positif sur l'agriculture africaine.</p>
            <a href="Contact.html"> <button class="btn-primary">Postuler maintenant</button></a>
        </div>
    </section>

    <!-- Footer -->
    <footer id="main-footer">
        <div class="footer-grid">
            <div class="footer-about">
                <div class="footer-logo">
                    <div class="logo-container">
                        <div class="logo-custom">
                            <img src="logo.png" alt="Logo AEC - Agricultural Expertise Center">
                        </div>
                    </div>
                    <h3>Agricultural Expertise Center</h3>
                </div>
                <p>Mettre au service des communautés des solutions durables pour la sécurité alimentaire et la lutte contre la pauvreté.</p>
                <div class="social-links">
                    <a href="#"><i class="fab fa-facebook-f"></i></a>
                    <a href="#"><i class="fab fa-twitter"></i></a>
                    <a href="#"><i class="fab fa-linkedin-in"></i></a>
                    <a href="#"><i class="fab fa-youtube"></i></a>
                </div>
            </div>
            
            <div class="footer-links">
                <h4>Liens rapides</h4>
                <ul>
                    <li><a href="index.html">ACCUEIL</a></li>
                    <li><a href="Axes.html">AXES d'INTERVENTION</a></li>
                    <li><a href="ODD.html">ODDs VISES</a></li>
                    <li><a href="Certificat.html">CERTIFICATIONS</a></li>
                    <li><a href="Projets.html">PROJETS</a></li>
                    <li><a href="Contact.html">CONTACTS</a></li>
                    <li><a href="Partenaires.html">PARTENAIRES</a></li>
                    <li><a href="Galerie.html">GALERIE</a></li>
                    <li><a href="Blog.html">CIFAD BLOG</a></li>
                </ul>
            </div>
            
            <div class="footer-contact">
                <h4>Contactez-nous</h4>
                <ul>
                    <li><i class="fas fa-map-marker-alt"></i> BAKA, Parakou, BENIN</li>
                    <li><i class="fas fa-phone"></i> (+229) 0196886696 / 0166843095</li>
                    <li><i class="fas fa-envelope"></i> contact@agriexpertcenter.com</li>
                </ul>
            </div>
            
            <div class="footer-newsletter">
                <h4>Restez informés</h4>
                <p>Inscrivez-vous pour recevoir nos actualités</p>
                <form>
                    <input type="email" placeholder="Votre email" required>
                    <button type="submit"><i class="fas fa-paper-plane"></i></button>
                </form>
            </div>
        </div>
        
        <div class="footer-bottom">
            <p>&copy; 2025 Agricultural Expertise Center. Tous droits réservés.</p>
            <div class="footer-extra-links">
                <a href="#">Politique de confidentialité</a>
                <a href="#">Mentions légales</a>
            </div>
        </div>
    </footer>

    <!-- Back to top button -->
    <button id="back-to-top">
        <i class="fas fa-arrow-up"></i>
    </button>

<script>
    // Configuration
    const API_URL = 'Certification_api.php';

    // Données des certifications (seront chargées depuis l'API)
    let certifications = [];

    // Éléments DOM
    const certificationsContainer = document.getElementById('certifications-container');
    const certificationModal = document.getElementById('certification-modal');
    const modalContent = document.getElementById('modal-content');
    const applyButton = document.getElementById('apply-button');
    const closeModal = document.querySelector('.close-modal');
    const adminPanel = document.getElementById('admin-panel');
    const adminToggle = document.getElementById('admin-toggle');
    const certificationForm = document.getElementById('certification-form');
    const cancelEdit = document.getElementById('cancel-edit');
    const clearForm = document.getElementById('clear-form');
    const imageInput = document.getElementById('cert-image');
    const imagePreview = document.getElementById('image-preview');

    // Fonctions pour gérer les certifications
    async function loadCertifications() {
        try {
            console.log('Chargement des certifications...');
            certificationsContainer.innerHTML = `
                <div class="no-data">
                    <i class="fas fa-spinner fa-spin"></i>
                    <p>Chargement des certifications...</p>
                </div>
            `;
            
            const response = await fetch(`${API_URL}?action=get_certifications`);
            
            if (!response.ok) {
                throw new Error(`Erreur HTTP: ${response.status}`);
            }
            
            const result = await response.json();
            console.log('Résultat API certifications:', result);
            
            if (result.success) {
                certifications = result.data;
                console.log(`${certifications.length} certifications chargées`);
                renderCertifications();
            } else {
                throw new Error(result.message || 'Erreur inconnue');
            }
        } catch (error) {
            console.error('Erreur:', error);
            certificationsContainer.innerHTML = `
                <div class="error-message">
                    <i class="fas fa-exclamation-triangle"></i>
                    <p>Impossible de charger les certifications. Veuillez réessayer.</p>
                    <p><small>${error.message}</small></p>
                </div>
            `;
        }
    }

    function renderCertifications() {
        certificationsContainer.innerHTML = '';
        
        if (certifications.length === 0) {
            certificationsContainer.innerHTML = `
                <div class="no-data">
                    <i class="fas fa-graduation-cap"></i>
                    <p>Aucune certification disponible pour le moment.</p>
                </div>
            `;
            return;
        }
        
        certifications.forEach((cert, index) => {
            const card = document.createElement('div');
            card.className = 'certification-item animate-fade-in-up';
            card.dataset.id = cert.id;
            
            // Définir un délai d'animation progressif
            card.style.animationDelay = `${index * 0.1}s`;
            
            // Vérifier si la certification est récente (moins de 7 jours)
            const isNew = isCertificationNew(cert.date_created || cert.date_debut);
            
            // Convertir les statistiques JSON en tableau
            let statsArray = [];
            try {
                if (cert.stats) {
                    statsArray = JSON.parse(cert.stats);
                }
            } catch (e) {
                console.error('Erreur parsing stats:', e);
            }
            
            // Convertir les modules JSON en tableau
            let modulesArray = [];
            try {
                if (cert.modules) {
                    modulesArray = JSON.parse(cert.modules);
                }
            } catch (e) {
                console.error('Erreur parsing modules:', e);
            }
            
            card.innerHTML = `
                ${isNew ? '<div class="new-badge">Nouveau</div>' : ''}
                <div class="certification-image-container">
                    ${cert.image ? `<img src="${cert.image}" alt="${cert.title}" class="certification-image" loading="lazy">` : 
                    `<div class="image-placeholder">
                        <i class="fas fa-graduation-cap"></i>
                    </div>`}
                    <div class="certification-overlay">
                        <i class="fas fa-search-plus"></i>
                    </div>
                </div>
                <div class="certification-content">
                    <h3>${cert.title}</h3>
                    <p class="certification-description">${cert.description ? (cert.description.substring(0, 120) + (cert.description.length > 120 ? '...' : '')) : 'Aucune description'}</p>
                    
                    ${statsArray.length > 0 ? `
                    <div class="cert-stats">
                        ${statsArray.slice(0, 2).map(stat => `<span class="cert-stat">${stat}</span>`).join('')}
                        ${statsArray.length > 2 ? `<span class="cert-stat-more">+${statsArray.length - 2} plus</span>` : ''}
                    </div>
                    ` : ''}
                    
                    <div class="cert-dates">
                        <div class="cert-date-item">
                            <i class="far fa-calendar-alt"></i>
                            <span>Début: ${formatDate(cert.date_debut)}</span>
                        </div>
                        <div class="cert-date-item">
                            <i class="far fa-clock"></i>
                            <span>Limite: ${formatDate(cert.date_limite)}</span>
                        </div>
                    </div>
                    
                    ${adminPanel.style.display === 'block' ? `
                    <div class="admin-actions">
                        <button class="admin-btn btn-edit" data-id="${cert.id}">
                            <i class="fas fa-edit"></i> Modifier
                        </button>
                        <button class="admin-btn btn-delete" data-id="${cert.id}">
                            <i class="fas fa-trash"></i> Supprimer
                        </button>
                    </div>
                    ` : ''}
                </div>
            `;
            
            // Événement pour ouvrir le modal
            card.addEventListener('click', (e) => {
                if (!e.target.closest('.admin-actions')) {
                    openCertificationModal(cert.id);
                }
            });
            
            certificationsContainer.appendChild(card);
        });
        
        // Ajouter les écouteurs d'événements pour les boutons admin
        if (adminPanel.style.display === 'block') {
            document.querySelectorAll('.btn-edit').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    e.stopPropagation();
                    editCertification(parseInt(btn.dataset.id));
                });
            });
            
            document.querySelectorAll('.btn-delete').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    e.stopPropagation();
                    deleteCertification(parseInt(btn.dataset.id));
                });
            });
        }
    }

    function isCertificationNew(dateString) {
        if (!dateString) return false;
        try {
            const certDate = new Date(dateString);
            const now = new Date();
            const diffTime = Math.abs(now - certDate);
            const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
            return diffDays <= 7; // Nouveau si créé il y a moins de 7 jours
        } catch (e) {
            return false;
        }
    }

    function formatDate(dateString) {
        if (!dateString) return "Non spécifiée";
        try {
            const date = new Date(dateString);
            return date.toLocaleDateString('fr-FR', {
                day: '2-digit',
                month: '2-digit',
                year: 'numeric'
            });
        } catch (e) {
            return "Date invalide";
        }
    }

    async function openCertificationModal(id) {
        try {
            console.log('Ouverture du modal pour la certification:', id);
            const response = await fetch(`${API_URL}?action=get_certification&id=${id}`);
            
            if (!response.ok) {
                throw new Error('Erreur lors du chargement de la certification');
            }
            
            const result = await response.json();
            
            if (result.success) {
                const cert = result.data;
                
                // Convertir les données JSON
                let statsArray = [];
                let modulesArray = [];
                try {
                    if (cert.stats) statsArray = JSON.parse(cert.stats);
                    if (cert.modules) modulesArray = JSON.parse(cert.modules);
                } catch (e) {
                    console.error('Erreur parsing données:', e);
                }
                
                modalContent.innerHTML = `
                    <div class="modal-header">
                        <h2>${cert.title}</h2>
                    </div>
                    
                    <div class="modal-body">
                        ${cert.image ? `
                        <div class="modal-image-section">
                            <img src="${cert.image}" alt="${cert.title}" class="modal-image" loading="lazy">
                        </div>
                        ` : ''}
                        
                        <div class="modal-description">
                            <h3><i class="fas fa-info-circle"></i> Description</h3>
                            <p>${cert.description || 'Aucune description disponible'}</p>
                        </div>
                        
                        <div class="modal-grid">
                            <div class="modal-section">
                                <h3><i class="fas fa-calendar"></i> Dates importantes</h3>
                                <div class="modal-detail-item">
                                    <div class="modal-detail-label">Date limite d'inscription</div>
                                    <div class="modal-detail-value">${formatDate(cert.date_limite)}</div>
                                </div>
                                <div class="modal-detail-item">
                                    <div class="modal-detail-label">Début de la formation</div>
                                    <div class="modal-detail-value">${formatDate(cert.date_debut)}</div>
                                </div>
                                <div class="modal-detail-item">
                                    <div class="modal-detail-label">Durée</div>
                                    <div class="modal-detail-value">${cert.duree || "Non spécifiée"}</div>
                                </div>
                                <div class="modal-detail-item">
                                    <div class="modal-detail-label">Coût</div>
                                    <div class="modal-detail-value">${cert.cout || "Non spécifié"}</div>
                                </div>
                            </div>
                            
                            <div class="modal-section">
                                <h3><i class="fas fa-users"></i> Public cible</h3>
                                <div class="modal-detail-value">${cert.public_cible || "Non spécifié"}</div>
                            </div>
                        </div>
                        
                        <div class="modal-grid">
                            <div class="modal-section">
                                <h3><i class="fas fa-graduation-cap"></i> Prérequis</h3>
                                <div class="modal-detail-value">${cert.prerequis || "Aucun prérequis spécifique"}</div>
                            </div>
                            
                            <div class="modal-section">
                                <h3><i class="fas fa-file-signature"></i> Modalités d'inscription</h3>
                                <div class="modal-detail-value">${cert.inscription || "Non spécifiées"}</div>
                            </div>
                        </div>
                        
                        <div class="modal-section">
                            <h3><i class="fas fa-chalkboard-teacher"></i> Méthodologie</h3>
                            <div class="modal-detail-value">${cert.methodologie || "Non spécifiée"}</div>
                        </div>
                        
                        <div class="modal-section">
                            <h3><i class="fas fa-briefcase"></i> Débouchés</h3>
                            <div class="modal-detail-value">${cert.debouches || "Non spécifiés"}</div>
                        </div>
                        
                        ${statsArray.length > 0 ? `
                        <div class="modal-section">
                            <h3><i class="fas fa-chart-bar"></i> Statistiques</h3>
                            <ul class="detail-list">
                                ${statsArray.map(stat => `<li><i class="fas fa-check"></i> ${stat}</li>`).join('')}
                            </ul>
                        </div>
                        ` : ''}
                        
                        ${modulesArray.length > 0 ? `
                        <div class="modal-section">
                            <h3><i class="fas fa-book"></i> Modules de formation</h3>
                            <ul class="detail-list">
                                ${modulesArray.map(module => `<li><i class="fas fa-bookmark"></i> ${module}</li>`).join('')}
                            </ul>
                        </div>
                        ` : ''}
                    </div>
                `;
                
                certificationModal.style.display = 'block';
                document.body.style.overflow = 'hidden';
                
            } else {
                throw new Error(result.message || 'Certification non trouvée');
            }
        } catch (error) {
            console.error('Erreur:', error);
            modalContent.innerHTML = `
                <div class="error-message">
                    <i class="fas fa-exclamation-triangle"></i>
                    <p>Impossible de charger la certification.</p>
                    <p><small>${error.message}</small></p>
                    <button class="btn btn-primary" onclick="closeCertificationModal()">
                        <i class="fas fa-times"></i> Fermer
                    </button>
                </div>
            `;
            certificationModal.style.display = 'block';
        }
    }

    function applyForCertification(id) {
        const certification = certifications.find(c => c.id === id);
        if (certification) {
            alert(`Postulation pour ${certification.title}`);
            // Rediriger vers un formulaire de postulation
            window.location.href = `Contact.html?certification=${id}`;
        }
    }

    function closeCertificationModal() {
        certificationModal.style.display = 'none';
        document.body.style.overflow = 'auto';
        modalContent.innerHTML = '';
    }

    // Fonction d'authentification admin
    async function toggleAdminPanel() {
        if (adminPanel.style.display === 'block') {
            // Déconnexion
            adminPanel.style.display = 'none';
            adminToggle.innerHTML = 'Mode Admin';
            adminToggle.classList.remove('active');
            loadCertifications(); // Recharger sans les boutons admin
        } else {
            const username = prompt('Entrez le nom d\'utilisateur admin:');
            const password = prompt('Entrez le mot de passe admin:');

            if (!username || !password) {
                alert("Identifiants manquants !");
                return;
            }

            try {
                const response = await fetch('auth.php', {
                    method: 'POST',
                    headers: { 
                        'Content-Type': 'application/json',
                        'Accept': 'application/json'
                    },
                    body: JSON.stringify({ username, password })
                });

                if (!response.ok) {
                    throw new Error('Erreur de connexion');
                }

                const result = await response.json();

                if (result.success) {
                    alert("Authentification réussie ✅");
                    adminPanel.style.display = 'block';
                    adminToggle.innerHTML = 'Mode Normal';
                    adminToggle.classList.add('active');
                    loadCertifications(); // Recharger pour afficher les boutons admin
                } else {
                    alert("Échec de la connexion ❌ : " + (result.message || 'Erreur inconnue'));
                }
            } catch (error) {
                console.error('Erreur:', error);
                alert("Impossible de contacter le serveur.");
            }
        }
    }

    function editCertification(id) {
        const certification = certifications.find(c => c.id === id);
        if (!certification) {
            alert('Certification non trouvée');
            return;
        }
        
        // Remplir le formulaire
        document.getElementById('certification-id').value = certification.id;
        document.getElementById('cert-title').value = certification.title;
        document.getElementById('cert-description').value = certification.description || '';
        document.getElementById('cert-stats').value = certification.stats || '';
        document.getElementById('cert-modules').value = certification.modules || '';
        document.getElementById('cert-inscription').value = certification.inscription || '';
        document.getElementById('cert-date-limite').value = certification.date_limite || '';
        document.getElementById('cert-date-debut').value = certification.date_debut || '';
        document.getElementById('cert-public').value = certification.public_cible || '';
        document.getElementById('cert-methodologie').value = certification.methodologie || '';
        document.getElementById('cert-cout').value = certification.cout || '';
        document.getElementById('cert-duree').value = certification.duree || '';
        document.getElementById('cert-prerequis').value = certification.prerequis || '';
        document.getElementById('cert-debouches').value = certification.debouches || '';
        
        // Afficher l'image si elle existe
        if (certification.image) {
            imagePreview.innerHTML = `<img src="${certification.image}" alt="Prévisualisation">`;
        } else {
            imagePreview.innerHTML = `
                <div class="image-preview-placeholder">
                    <i class="fas fa-image"></i>
                    <p>Aperçu de l'image</p>
                </div>
            `;
        }
        
        // Scroll to form
        certificationForm.scrollIntoView({ behavior: 'smooth' });
    }

    async function deleteCertification(id) {
        if (!confirm('Êtes-vous sûr de vouloir supprimer cette certification ? Cette action est irréversible.')) {
            return;
        }
        
        try {
            console.log('Suppression de la certification:', id);
            const response = await fetch(`${API_URL}?action=delete_certification&id=${id}`, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/x-www-form-urlencoded',
                },
                body: `id=${id}`
            });
            
            if (!response.ok) {
                throw new Error(`Erreur HTTP: ${response.status}`);
            }
            
            const result = await response.json();
            console.log('Résultat suppression:', result);
            
            if (result.success) {
                alert('Certification supprimée avec succès!');
                loadCertifications(); // Recharger la liste
            } else {
                alert('Erreur: ' + (result.message || 'Erreur inconnue'));
            }
        } catch (error) {
            console.error('Erreur:', error);
            alert('Impossible de supprimer la certification. Veuillez réessayer.');
        }
    }

    async function saveCertification(e) {
        e.preventDefault();
        
        // Récupérer les données du formulaire
        const formData = new FormData(certificationForm);
        const id = formData.get('id');
        const title = formData.get('title').trim();
        const description = formData.get('description').trim();
        
        // Validation basique
        if (!title || !description) {
            alert('Le titre et la description sont obligatoires');
            return;
        }
        
        // Afficher un indicateur de chargement
        const submitBtn = certificationForm.querySelector('button[type="submit"]');
        const originalText = submitBtn.innerHTML;
        submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Enregistrement...';
        submitBtn.disabled = true;
        
        try {
            formData.append('action', 'save_certification');
            
            const response = await fetch(API_URL, {
                method: 'POST',
                body: formData
            });
            
            if (!response.ok) {
            throw new Error(`Erreur HTTP: ${response.status}` );
            }
            const result = await response.json();
            console.log('Résultat sauvegarde:', result);
            
            if (result.success) {
                alert('Certification enregistrée avec succès!');
                loadCertifications();
                cancelEditForm();
            } else {
                throw new Error(result.message || 'Erreur inconnue lors de la sauvegarde');
            }
        } catch (error) {
            console.error('Erreur:', error);
            alert('Erreur: ' + error.message);
        } finally {
            // Restaurer le bouton
            submitBtn.innerHTML = originalText;
            submitBtn.disabled = false;
        }
    }

    function cancelEditForm() {
        certificationForm.reset();
        document.getElementById('certification-id').value = '';
        imagePreview.innerHTML = `
            <div class="image-preview-placeholder">
                <i class="fas fa-image"></i>
                <p>Aperçu de l'image</p>
            </div>
        `;
        imageInput.value = '';
    }

    // Prévisualisation de l'image
    function setupImagePreview() {
        imageInput.addEventListener('change', function() {
            const file = this.files[0];
            if (file) {
                // Vérifier la taille du fichier (max 5MB)
                if (file.size > 5 * 1024 * 1024) {
                    alert('Le fichier est trop volumineux (max 5MB)');
                    this.value = '';
                    return;
                }
                
                // Vérifier le type de fichier
                const allowedTypes = ['image/jpeg', 'image/png', 'image/gif', 'image/webp'];
                if (!allowedTypes.includes(file.type)) {
                    alert('Type de fichier non autorisé. Formats acceptés: JPG, PNG, GIF, WEBP');
                    this.value = '';
                    return;
                }
                
                const reader = new FileReader();
                reader.onload = function(e) {
                    imagePreview.innerHTML = `<img src="${e.target.result}" alt="Prévisualisation">`;
                };
                reader.readAsDataURL(file);
            }
        });
    }

    // Révéler le bouton admin avec une combinaison de touches
    function setupAdminAccess() {
        let keySequence = '';
        const secretCode = 'min'; // Code secret pour révéler le bouton admin
        
        document.addEventListener('keydown', (e) => {
            keySequence += e.key;
            if (keySequence.length > secretCode.length) {
                keySequence = keySequence.substring(keySequence.length - secretCode.length);
            }
            
            if (keySequence === secretCode) {
                adminToggle.classList.remove('admin-toggle-hidden');
                alert('Mode admin activé. Le bouton est maintenant visible.');
                keySequence = ''; // Réinitialiser la séquence
            }
        });
    }

    // Initialisation
    document.addEventListener('DOMContentLoaded', function() {
        console.log('Initialisation des certifications...');
        
        // Charger les certifications
        loadCertifications();
        setupImagePreview();
        setupAdminAccess();
        
        // Événements
        adminToggle.addEventListener('click', toggleAdminPanel);
        closeModal.addEventListener('click', closeCertificationModal);
        certificationForm.addEventListener('submit', saveCertification);
        cancelEdit.addEventListener('click', cancelEditForm);
        clearForm.addEventListener('click', cancelEditForm);
        
        // Fermer le modal en cliquant à l'extérieur
        certificationModal.addEventListener('click', (e) => {
            if (e.target === certificationModal) {
                closeCertificationModal();
            }
        });
        
        // Fermer le modal avec la touche Échap
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && certificationModal.style.display === 'block') {
                closeCertificationModal();
            }
        });
        
        // Menu mobile
        const mobileMenuBtn = document.querySelector('.mobile-menu-btn');
        const mobileNav = document.getElementById('mobile-nav');
        
        mobileMenuBtn.addEventListener('click', () => {
            mobileNav.classList.toggle('active');
            mobileMenuBtn.classList.toggle('active');
            
            if (mobileMenuBtn.classList.contains('active')) {
                mobileMenuBtn.innerHTML = '<i class="fas fa-times"></i>';
            } else {
                mobileMenuBtn.innerHTML = '<i class="fas fa-bars"></i>';
            }
        });
        
        // Fermer le menu mobile en cliquant sur un lien
        const mobileLinks = document.querySelectorAll('#mobile-nav a');
        mobileLinks.forEach(link => {
            link.addEventListener('click', () => {
                mobileNav.classList.remove('active');
                mobileMenuBtn.classList.remove('active');
                mobileMenuBtn.innerHTML = '<i class="fas fa-bars"></i>';
            });
        });

        // Back to top button
        const backToTopButton = document.getElementById('back-to-top');
        
        window.addEventListener('scroll', () => {
            if (window.pageYOffset > 300) {
                backToTopButton.classList.add('show');
            } else {
                backToTopButton.classList.remove('show');
            }
        });
        
        backToTopButton.addEventListener('click', () => {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        });
        
        console.log('Certifications initialisées avec succès');
    });

    // Exposer les fonctions globales
    window.openCertificationModal = openCertificationModal;
    window.closeCertificationModal = closeCertificationModal;
    window.applyForCertification = applyForCertification;
</script>
</body>
</html>